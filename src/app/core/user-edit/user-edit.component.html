<h1>Edición de usuario</h1>
<br/>
<div class="flex-column">
    <div class="flex-row">
        <mat-form-field appearance="outline">
            <mat-label>Username</mat-label>
            <input matInput class="read-only" [(ngModel)]="user.username" [readonly]="true">
        </mat-form-field>
        
        <div style="flex:1"></div>
        
        <mat-form-field appearance="outline">
            <mat-label>Fecha de creación</mat-label>
            <input matInput class="read-only" [ngModel]="user.dateCreation | date: 'dd/MM/yyyy'" [readonly]="true">
        </mat-form-field>
    </div>
    
    <div class="flex-row">
        <mat-form-field style="flex:2;" class="space-right" appearance="outline">
            <mat-label>Nombre</mat-label>
            <input matInput [(ngModel)]="user.firstName" required>
            <mat-error>El campo no puede estar vacío</mat-error>
        </mat-form-field>
        
        <mat-form-field style="flex:3" appearance="outline">
            <mat-label>Apellidos</mat-label>
            <input matInput [(ngModel)]="user.lastName" required>
            <mat-error>El campo no puede estar vacío</mat-error>
        </mat-form-field>
    </div>
    
    <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput [(ngModel)]="user.mail" required>
        <mat-error>El campo no puede estar vacío</mat-error>
    </mat-form-field>
</div>

<div class="button-bar">
    <button *ngIf="user.id != null" secondary disabled mat-button class="space-right">Cerrar</button>    
    <button *ngIf="isValid()" primary (click)="save()" mat-button>Guardar</button>
    <button *ngIf="!isValid()" primary disabled mat-button>Guardar</button>
</div>
    
<div class="loadWrapper" *ngIf="isLoading">
    <mat-spinner></mat-spinner>
</div>
    